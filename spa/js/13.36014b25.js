(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"2b94":function(a,t,o){"use strict";o.r(t);var i=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("q-page",{staticClass:"flex flex-center"},[o("q-form",{staticClass:"q-gutter-md q-pa-xs full-width row flex-center",on:{submit:a.onSubmit,reset:a.onReset}},[o("q-input",{staticClass:"q-pa-xs col-3",attrs:{label:"Descrição"},model:{value:a.consultaIndicacao.descricao,callback:function(t){a.$set(a.consultaIndicacao,"descricao",t)},expression:"consultaIndicacao.descricao"}}),o("q-btn",{staticClass:"q-pa-xs q-ma-md col-1",staticStyle:{"margin-top":"2%"},attrs:{label:"Consultar",type:"submit",color:"primary"}})],1),o("div",{staticClass:"q-pa-lg",staticStyle:{"padding-bottom":"135%"}},[o("b",[a._v("Indicações")]),o("q-btn",{attrs:{id:"btnCadastrarHist",icon:"add",flat:"",dense:"",color:"primary"},on:{click:function(){a.popupCadastro=!0}}}),o("q-table",{attrs:{data:a.dados,columns:a.columns,"row-key":"name",pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t}},scopedSlots:a._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"id",attrs:{props:t}},[a._v("\n            "+a._s(t.row.id)+"\n          ")]),o("q-td",{key:"descricao",attrs:{props:t}},[a._v("\n            "+a._s(t.row.descricao)+"\n          ")]),o("q-td",{key:"excluir",attrs:{props:t}},[o("q-btn",{attrs:{id:"excluir",flat:"",dense:"",icon:"delete"},on:{click:function(o){a.excluirIndicacao(t.row.id)}}})],1)],1)]}}])})],1),o("q-dialog",{staticClass:"full-width",model:{value:a.popupCadastro,callback:function(t){a.popupCadastro=t},expression:"popupCadastro"}},[o("CadastroEdicaoIndicacao")],1)],1)},c=[],n=(o("e6cf"),o("51e2")),e={name:"PageIndex",components:{CadastroEdicaoIndicacao:n["a"]},data(){return{popupCadastro:!1,modalCadastroInd:!1,filter:"",pagination:{rowsPerPage:7},consultaIndicacao:{descricao:""},columns:[{name:"id",label:"Id",align:"left",field:a=>a.id,format:a=>`${a}`},{name:"descricao",label:"Descrição",align:"left",field:a=>a.descricao,format:a=>`${a}`},{name:"excluir",label:"Excluir",align:"center"}],dados:[]}},async mounted(){this.onSubmit()},methods:{async onSubmit(){let a=await this.consultarIndicacao(this.consultaIndicacao);this.dados=a.resultado},onReset(){},async consultarIndicacao(a){return new Promise(((t,o)=>{this.$axios.post("/consultar_indicacao",a).then((a=>{t(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),o(a)}))}))},excluirIndicacao(a){return new Promise(((t,o)=>{window.confirm("Gostaria mesmo de excluir indicação?")&&this.$axios.post("/excluir_indicacao",{id:Number(a)}).then((a=>{this.onSubmit(),t(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),o(a)}))}))}}},s=e,r=o("2877"),d=o("9989"),l=o("0378"),u=o("27f9"),p=o("9c40"),m=o("eaac"),f=o("bd08"),b=o("db86"),h=o("24e8"),x=o("eebe"),w=o.n(x),g=Object(r["a"])(s,i,c,!1,null,null,null);t["default"]=g.exports;w()(g,"components",{QPage:d["a"],QForm:l["a"],QInput:u["a"],QBtn:p["a"],QTable:m["a"],QTr:f["a"],QTd:b["a"],QDialog:h["a"]})}}]);