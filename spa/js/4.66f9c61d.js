(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"714d":function(a,o,e){"use strict";e.r(o);var t=function(){var a=this,o=a.$createElement,e=a._self._c||o;return e("q-page",{staticClass:"flex flex-center",staticStyle:{"padding-bottom":"50%"}},[e("q-list",{staticClass:"full-width"},[e("q-expansion-item",{staticClass:"bg-info text-grey-1 text-center",attrs:{label:"Opções de consulta",group:"opcoes_consulta_paciente",dense:""}},[e("q-form",{staticClass:"bg-white flex-center full-width row",on:{submit:a.onSubmit,reset:a.onReset}},[e("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-3",attrs:{label:"Nome","max-length":"250",dense:""},model:{value:a.consultaUsuario.nome,callback:function(o){a.$set(a.consultaUsuario,"nome",o)},expression:"consultaUsuario.nome"}}),e("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-2 col-lg-1",attrs:{label:"CPF",mask:"###.###.###-##","max-length":"11",rules:[function(a){return 0==a.length||11==a.length||"O CPF deve conter 11 caracteres"}],"unmasked-value":"",dense:""},model:{value:a.consultaUsuario.cpf,callback:function(o){a.$set(a.consultaUsuario,"cpf",o)},expression:"consultaUsuario.cpf"}}),e("q-input",{staticClass:"q-pa-xs col-12 col-sm-5 col-md-3 col-lg-3",attrs:{label:"Preceptor","max-length":"250",dense:""},model:{value:a.consultaUsuario.preceptor,callback:function(o){a.$set(a.consultaUsuario,"preceptor",o)},expression:"consultaUsuario.preceptor"}}),e("q-select",{staticClass:"q-pa-xs col-12 col-sm-7 col-md-4 col-lg-3",attrs:{options:a.optTerminoCaso,label:"Término do Caso",dense:""},model:{value:a.consultaUsuario.term_caso,callback:function(o){a.$set(a.consultaUsuario,"term_caso",o)},expression:"consultaUsuario.term_caso"}}),e("q-btn",{staticClass:"q-pa-xs q-ma-md col-xs-5 col-sm-3 col-md-2 col-lg-1",attrs:{label:"Consultar",type:"submit",color:"primary",dense:""}})],1)],1)],1),e("div",{staticClass:"q-pa-lg full-width"},[e("b",[a._v("Pacientes")]),e("q-btn",{attrs:{id:"cadastrar_paciente",to:"/cadastro_edicao_paciente",icon:"add",flat:"",dense:"",color:"primary"}}),e("q-table",{attrs:{data:a.dados,columns:a.columns,"row-key":"name",pagination:a.pagination},on:{"update:pagination":function(o){a.pagination=o}},scopedSlots:a._u([{key:"body",fn:function(o){return[e("q-tr",{attrs:{props:o}},[e("q-td",{key:"id_usuario",attrs:{props:o}},[a._v("\n            "+a._s(o.row.id_usuario)+"\n          ")]),e("q-td",{key:"id_r_mola",attrs:{props:o}},[a._v("\n            "+a._s(o.row.id_r_mola)+"\n          ")]),e("q-td",{key:"nome_paciente",attrs:{props:o}},[a._v("\n            "+a._s(o.row.nome_paciente)+"\n          ")]),e("q-td",{key:"cpf",attrs:{props:o}},[a._v("\n            "+a._s(o.row.cpf)+"\n          ")]),e("q-td",{key:"nome_preceptor",attrs:{props:o}},[a._v("\n            "+a._s(o.row.nome_preceptor)+"\n          ")]),e("q-td",{key:"editar",attrs:{props:o}},[e("q-btn",{attrs:{id:"editar",to:{name:"cadastro_registro_mola",params:{id_paciente:o.row.id_usuario,id_mola:o.row.id_r_mola}},flat:"",dense:"",icon:"edit_note"}})],1),e("q-td",{key:"delegar",attrs:{props:o}},["coordenador"==a.dadosUsuarioLogado.tipo||o.row.nome_preceptor==a.dadosUsuarioLogado.nome?e("q-btn",{attrs:{id:"delegar",flat:"",dense:"",icon:"account_circle",to:{name:"delegacao",params:{id:o.row.id_usuario}}},on:{click:function(e){return a.delegarUsuario(o.row)}}}):e("q-btn",{attrs:{id:"delegar",flat:"",dense:"",icon:"warning"}},[e("q-tooltip",[a._v("Operação não permitida")])],1)],1),e("q-td",{key:"termino",attrs:{props:o}},[e("div",{class:null==o.row.term_caso?"divColoridaVerdeTermino":"divColoridaVermelhoTermino"},[e("q-tooltip",[a._v(a._s(null==o.row.term_caso?"Em andamento":o.row.term_caso))])],1)])],1)]}}])})],1)],1)},s=[],n=e("ded3"),r=e.n(n),i=(e("e6cf"),e("2f62")),l={name:"PageIndex",data(){return{consultaUsuario:{nome:"",cpf:"",preceptor:"",term_caso:"Em andamento",usuario_logado:null},pagination:{rowsPerPage:7},optTerminoCaso:["Todos","Evasão (abandono do serviço com hCG positivo)","Molar completo","Molar incompleto","NTG Completo","NTG Incompleto","Em andamento"],corTerminoCaso:[null,"green","green","green","green","green","red"],columns:[{name:"id_usuario",label:"Id Paciente",align:"left"},{name:"id_r_mola",label:"Id Mola",align:"left"},{name:"nome_paciente",label:"Nome",align:"left"},{name:"cpf",label:"CPF",align:"left"},{name:"nome_preceptor",label:"Preceptor",align:"left"},{name:"editar",label:"Editar",align:"center"},{name:"delegar",label:"Delegar",align:"center"},{name:"termino",label:"Término",align:"center"}],dados:[]}},async mounted(){this.consultaUsuario.id_inst=this.dadosUsuarioLogado.id_inst,this.consultaUsuario.usuario_logado=this.dadosUsuarioLogado.id_usuario,this.onSubmit()},methods:{delegarUsuario(a){this.$store.dispatch("principal/delegarUsuario",a).then((()=>{}))},async onSubmit(){let a=await this.consultarPacientes(this.consultaUsuario);this.dados=a.resultado},onReset(){},async consultarPacientes(a){return"Todos"==a.term_caso&&(a.term_caso=""),new Promise(((o,e)=>{this.$axios.post("/consultar_pacientes",a).then((a=>{o(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),e(a)}))}))},async ativarInativar(a,o){return new Promise(((e,t)=>{this.$axios.post("/ativaInativarUsuario",{id_usuario:Number(o),valor:Number(a)}).then((a=>{e(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),t(a)}))}))}},computed:r()({},Object(i["c"])("principal",["usuarioLogado","dadosUsuarioLogado"]))},c=l,d=(e("f7a2"),e("2877")),u=e("9989"),p=e("1c1c"),m=e("3b73"),_=e("0378"),g=e("27f9"),b=e("ddd8"),f=e("9c40"),h=e("eaac"),q=e("bd08"),v=e("db86"),w=e("05c0"),U=e("9564"),x=e("eebe"),C=e.n(x),y=Object(d["a"])(c,t,s,!1,null,"433a61cb",null);o["default"]=y.exports;C()(y,"components",{QPage:u["a"],QList:p["a"],QExpansionItem:m["a"],QForm:_["a"],QInput:g["a"],QSelect:b["a"],QBtn:f["a"],QTable:h["a"],QTr:q["a"],QTd:v["a"],QTooltip:w["a"],QToggle:U["a"]})},eb62:function(a,o,e){},f7a2:function(a,o,e){"use strict";e("eb62")}}]);