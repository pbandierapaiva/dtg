(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"9c03":function(a,t,o){"use strict";o.r(t);var s=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("q-page",{staticClass:"flex flex-center",staticStyle:{"padding-bottom":"50%"}},[o("q-list",{staticClass:"full-width"},[o("q-expansion-item",{staticClass:"bg-info  text-grey-1 text-center",attrs:{label:"Opções de consulta",dense:""}},[o("q-form",{staticClass:" bg-white flex-center full-width row",on:{submit:a.onSubmit,reset:a.onReset}},[o("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-3",attrs:{label:"Nome",dense:""},model:{value:a.consultaUsuario.nome,callback:function(t){a.$set(a.consultaUsuario,"nome",t)},expression:"consultaUsuario.nome"}}),o("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-2",attrs:{label:"CRM",dense:""},model:{value:a.consultaUsuario.crm,callback:function(t){a.$set(a.consultaUsuario,"crm",t)},expression:"consultaUsuario.crm"}}),o("q-select",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-1",attrs:{options:a.optUf,label:"UF",dense:""},model:{value:a.consultaUsuario.uf_crm,callback:function(t){a.$set(a.consultaUsuario,"uf_crm",t)},expression:"consultaUsuario.uf_crm"}}),o("q-select",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-1",attrs:{options:a.optTipo,label:"Tipo",dense:""},model:{value:a.consultaUsuario.tipo,callback:function(t){a.$set(a.consultaUsuario,"tipo",t)},expression:"consultaUsuario.tipo"}}),o("q-select",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-1",attrs:{options:a.optSituacao,"emit-value":"",label:"Situação",dense:""},model:{value:a.consultaUsuario.situacao,callback:function(t){a.$set(a.consultaUsuario,"situacao",t)},expression:"consultaUsuario.situacao"}}),o("q-select",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-1",attrs:{options:a.optCategoria,label:"Categoria",dense:""},model:{value:a.consultaUsuario.categoria,callback:function(t){a.$set(a.consultaUsuario,"categoria",t)},expression:"consultaUsuario.categoria"}}),o("q-btn",{staticClass:"q-pa-xs q-ma-md col-12 col-sm-6 col-md-3 col-lg-1",attrs:{label:"Consultar",type:"submit",color:"primary",dense:""}})],1)],1)],1),o("div",{staticClass:"q-pa-lg full-width"},[o("b",[a._v("Médico/Coordenador")]),o("q-btn",{attrs:{id:"btnCadastrarMedico",to:"/cadastro_edicao_area_acesso",icon:"add",flat:"",dense:"",color:"primary"}}),o("q-table",{attrs:{data:a.data,columns:a.columns,"row-key":"name",pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t}},scopedSlots:a._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"id",attrs:{props:t}},[a._v("\n            "+a._s(t.row.id_usuario)+"\n          ")]),o("q-td",{key:"nome",attrs:{props:t}},[a._v("\n            "+a._s(t.row.nome)+"\n          ")]),o("q-td",{key:"crm",attrs:{props:t}},[a._v("\n            "+a._s(t.row.crm)+"\n          ")]),o("q-td",{key:"uf",attrs:{props:t}},[a._v("\n            "+a._s(t.row.uf_crm)+"\n          ")]),o("q-td",{key:"categoria",attrs:{props:t}},[a._v("\n            "+a._s(t.row.categoria)+"\n          ")]),o("q-td",{key:"instituicao",attrs:{props:t}},[a._v("\n            "+a._s(t.row.instituicao)+"\n          ")]),o("q-td",{key:"editar",attrs:{props:t}},[o("q-btn",{attrs:{id:"editar",to:{name:"cadastro_edicao_area_acesso",params:{id:t.row.id_usuario}},flat:"",dense:"",icon:"edit_note"}})],1),o("q-td",{key:"inativar",attrs:{props:t}},[o("q-toggle",{attrs:{color:"green"},on:{input:function(o){a.ativarInativar(o,t.row.id_usuario)}},model:{value:t.row.ativo,callback:function(o){a.$set(t.row,"ativo",o)},expression:"props.row.ativo"}})],1)],1)]}}])})],1)],1)},e=[],i=o("ded3"),l=o.n(i),n=(o("e6cf"),o("2f62")),r={name:"PageIndex",data(){return{consultaUsuario:{nome:"",crm:"",uf_crm:"",tipo:"",situacao:"",categoria:"",id_inst:""},optUf:["","AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],optTipo:["","Médico","Coordenador"],optSituacao:[{value:"",label:""},{value:"1",label:"Ativo"},{value:"0",label:"Inativo"}],optCategoria:["","Acadêmico","Residente","Contratado","Pós-Graduando","Docente","Outros"],pagination:{rowsPerPage:7},columns:[{name:"id",label:"Id",align:"left",field:a=>a.id,format:a=>`${a}`},{name:"nome",label:"Nome",align:"left",field:a=>a.nome,format:a=>`${a}`},{name:"crm",label:"CRM",align:"left",field:a=>a.crm,format:a=>`${a}`},{name:"uf",label:"UF",align:"left",field:a=>a.uf,format:a=>`${a}`},{name:"categoria",label:"Categoria",align:"left",field:a=>a.categoria,format:a=>`${a}`},{name:"instituicao",label:"Instituição",align:"left",field:a=>a.instituicao,format:a=>`${a}`},{name:"editar",label:"Editar",align:"center"},{name:"inativar",label:"Inativar",align:"center"}],data:[]}},async mounted(){this.consultaUsuario.id_inst=this.dadosUsuarioLogado.id_inst,this.onSubmit()},methods:{async onSubmit(){let a=await this.consultarMedicos(this.consultaUsuario);a.resultado=a.resultado.map((a=>(a.ativo=Boolean(a.ativo),a))),this.data=a.resultado},onReset(){},async consultarMedicos(a){return new Promise(((t,o)=>{this.$axios.post("/consultar_medicos",a).then((a=>{t(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),o(a)}))}))},async ativarInativar(a,t){return new Promise(((o,s)=>{this.$axios.post("/ativaInativarUsuario",{id_usuario:Number(t),valor:Number(a)}).then((a=>{o(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),s(a)}))}))}},computed:l()({},Object(n["c"])("principal",["usuarioLogado","dadosUsuarioLogado"]))},c=r,u=o("2877"),d=o("9989"),p=o("1c1c"),m=o("3b73"),f=o("0378"),b=o("27f9"),g=o("ddd8"),v=o("9c40"),_=o("eaac"),q=o("bd08"),U=o("db86"),w=o("9564"),C=o("eebe"),x=o.n(C),h=Object(u["a"])(c,s,e,!1,null,null,null);t["default"]=h.exports;x()(h,"components",{QPage:d["a"],QList:p["a"],QExpansionItem:m["a"],QForm:f["a"],QInput:b["a"],QSelect:g["a"],QBtn:v["a"],QTable:_["a"],QTr:q["a"],QTd:U["a"],QToggle:w["a"]})}}]);