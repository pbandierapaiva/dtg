(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"714d":function(o,a,e){"use strict";e.r(a);var t=function(){var o=this,a=o.$createElement,e=o._self._c||a;return e("q-page",{staticClass:"flex flex-center",staticStyle:{"padding-bottom":"50%"}},[e("q-list",{staticClass:"full-width"},[e("q-expansion-item",{staticClass:"color-gray text-center",attrs:{label:"Opções de consulta",group:"opcoes_consulta_paciente",dense:""}},[e("q-form",{staticClass:"flex-center full-width row",on:{submit:o.onSubmit,reset:o.onReset}},[e("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-3 col-lg-3",attrs:{label:"Nome","max-length":"250",dense:""},model:{value:o.consultaUsuario.nome,callback:function(a){o.$set(o.consultaUsuario,"nome",a)},expression:"consultaUsuario.nome"}}),e("q-input",{staticClass:"q-pa-xs col-12 col-sm-6 col-md-2 col-lg-1",attrs:{label:"CPF",mask:"###.###.###-##","max-length":"11",rules:[function(o){return 0==o.length||11==o.length||"O CPF deve conter 11 caracteres"}],"unmasked-value":"",dense:""},model:{value:o.consultaUsuario.cpf,callback:function(a){o.$set(o.consultaUsuario,"cpf",a)},expression:"consultaUsuario.cpf"}}),e("q-input",{staticClass:"q-pa-xs col-12 col-sm-5 col-md-3 col-lg-3",attrs:{label:"Preceptor","max-length":"250",dense:""},model:{value:o.consultaUsuario.preceptor,callback:function(a){o.$set(o.consultaUsuario,"preceptor",a)},expression:"consultaUsuario.preceptor"}}),e("q-select",{staticClass:"q-pa-xs col-12 col-sm-7 col-md-4 col-lg-3",attrs:{options:o.optTerminoCaso,label:"Término do Caso",dense:""},model:{value:o.consultaUsuario.term_caso,callback:function(a){o.$set(o.consultaUsuario,"term_caso",a)},expression:"consultaUsuario.term_caso"}}),e("q-btn",{staticClass:"q-pa-xs q-ma-md col-xs-5 col-sm-3 col-md-2 col-lg-1",attrs:{label:"Consultar",type:"submit",color:"primary",dense:""}})],1)],1)],1),e("div",{staticClass:"q-pa-lg full-width"},[e("b",[o._v("Pacientes")]),"coordenador"==o.dadosUsuarioLogado.tipo||"docente"==o.dadosUsuarioLogado.categoria||"contratado"==o.dadosUsuarioLogado.categoria||"outros"==o.dadosUsuarioLogado.categoria?e("q-btn",{attrs:{id:"cadastrar_paciente",to:"/cadastro_edicao_paciente",icon:"add",flat:"",dense:"",color:"primary"}}):o._e(),e("q-table",{attrs:{data:o.dados,columns:o.columns,"row-key":"name",pagination:o.pagination},on:{"update:pagination":function(a){o.pagination=a}},scopedSlots:o._u([{key:"body",fn:function(a){return[e("q-tr",{attrs:{props:a}},[e("q-td",{key:"id_usuario",attrs:{props:a}},[o._v("\n            "+o._s(a.row.id_usuario)+"\n          ")]),e("q-td",{key:"id_r_mola",attrs:{props:a}},[o._v("\n            "+o._s(a.row.id_r_mola)+"\n          ")]),e("q-td",{key:"nome_paciente",attrs:{props:a}},[o._v("\n            "+o._s(a.row.nome_paciente)+"\n          ")]),e("q-td",{key:"cpf",attrs:{props:a}},[o._v("\n            "+o._s(a.row.cpf)+"\n          ")]),e("q-td",{key:"nome_preceptor",attrs:{props:a}},[o._v("\n            "+o._s(a.row.nome_preceptor)+"\n          ")]),e("q-td",{key:"editar",attrs:{props:a}},[e("q-btn",{attrs:{id:"editar",to:{name:"cadastro_registro_mola",params:{id_paciente:a.row.id_usuario,id_mola:a.row.id_r_mola}},flat:"",dense:"",icon:"edit_note"}})],1),e("q-td",{key:"delegar",attrs:{props:a}},["coordenador"==o.dadosUsuarioLogado.tipo||a.row.nome_preceptor==o.dadosUsuarioLogado.nome?e("q-btn",{attrs:{id:"delegar",flat:"",dense:"",icon:"account_circle",to:{name:"delegacao",params:{id:a.row.id_usuario}}},on:{click:function(e){return o.delegarUsuario(a.row)}}}):e("q-btn",{attrs:{id:"delegar",flat:"",dense:"",icon:"warning"}},[e("q-tooltip",[o._v("Operação não permitida")])],1)],1),e("q-td",{key:"termino",attrs:{props:a}},[e("div",{class:null==a.row.term_caso?"divColoridaVerdeTermino":"divColoridaVermelhoTermino"},[e("q-tooltip",[o._v(o._s(null==a.row.term_caso?"Em andamento":a.row.term_caso))])],1)])],1)]}}])})],1)],1)},s=[],r=e("ded3"),n=e.n(r),i=(e("e6cf"),e("2f62")),l={name:"PageIndex",data(){return{consultaUsuario:{nome:"",cpf:"",preceptor:"",term_caso:"Em andamento",usuario_logado:null},pagination:{rowsPerPage:7},optTerminoCaso:["Todos","Evasão (abandono do serviço com hCG positivo)","Molar completo","Molar incompleto","NTG Completo","NTG Incompleto","Em andamento"],corTerminoCaso:[null,"green","green","green","green","green","red"],columns:[{name:"id_usuario",label:"Id Paciente",align:"left"},{name:"id_r_mola",label:"Id Mola",align:"left"},{name:"nome_paciente",label:"Nome",align:"left"},{name:"cpf",label:"CPF",align:"left"},{name:"nome_preceptor",label:"Preceptor",align:"left"},{name:"editar",label:"Editar",align:"center"},{name:"delegar",label:"Delegar",align:"center"},{name:"termino",label:"Término",align:"center"}],dados:[]}},async mounted(){this.consultaUsuario.id_inst=this.dadosUsuarioLogado.id_inst,this.consultaUsuario.usuario_logado=this.dadosUsuarioLogado.id_usuario,this.onSubmit()},methods:{delegarUsuario(o){console.log(o),this.$store.dispatch("principal/delegarUsuario",o).then((()=>{}))},async onSubmit(){console.log("teste");let o=await this.consultarPacientes(this.consultaUsuario);console.log(o.resultado),this.dados=o.resultado,console.log(this.dados)},onReset(){},async consultarPacientes(o){return console.log(o.term_caso),console.log(o.cpf),"Todos"==o.term_caso&&(o.term_caso=""),new Promise(((a,e)=>{this.$axios.post("/consultar_pacientes",o).then((o=>{a(o.data)})).catch((o=>{this.$store.dispatch("principal/verificaErro",o),e(o)}))}))},async ativarInativar(o,a){return new Promise(((e,t)=>{this.$axios.post("/ativaInativarUsuario",{id_usuario:Number(a),valor:Number(o)}).then((o=>{e(o.data)})).catch((o=>{this.$store.dispatch("principal/verificaErro",o),t(o)}))}))}},computed:n()({},Object(i["c"])("principal",["usuarioLogado","dadosUsuarioLogado"]))},c=l,d=(e("8c12"),e("2877")),u=e("9989"),p=e("1c1c"),m=e("3b73"),g=e("0378"),_=e("27f9"),b=e("ddd8"),f=e("9c40"),h=e("eaac"),q=e("bd08"),v=e("db86"),w=e("05c0"),U=e("9564"),x=e("eebe"),C=e.n(x),y=Object(d["a"])(c,t,s,!1,null,"0bb381b0",null);a["default"]=y.exports;C()(y,"components",{QPage:u["a"],QList:p["a"],QExpansionItem:m["a"],QForm:g["a"],QInput:_["a"],QSelect:b["a"],QBtn:f["a"],QTable:h["a"],QTr:q["a"],QTd:v["a"],QTooltip:w["a"],QToggle:U["a"]})},"84b9":function(o,a,e){},"8c12":function(o,a,e){"use strict";e("84b9")}}]);