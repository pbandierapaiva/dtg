(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"7e76":function(a,t,o){"use strict";o.r(t);var i=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("q-page",{staticClass:"flex flex-center"},[o("q-form",{staticClass:"q-gutter-md q-pa-xs full-width row",on:{submit:a.onSubmit,reset:a.onReset}},[o("q-input",{staticClass:"q-pa-xs col-4",attrs:{label:"Código"},model:{value:a.consultaCid.cod_cid,callback:function(t){a.$set(a.consultaCid,"cod_cid",t)},expression:"consultaCid.cod_cid"}}),o("q-input",{staticClass:"q-pa-xs col-6",attrs:{label:"Descrição"},model:{value:a.consultaCid.descricao,callback:function(t){a.$set(a.consultaCid,"descricao",t)},expression:"consultaCid.descricao"}}),o("q-btn",{staticClass:"q-pa-xs q-ma-md col-1",staticStyle:{"margin-top":"2%"},attrs:{label:"Consultar",type:"submit",color:"primary"}})],1),o("div",{staticClass:"q-pa-lg",staticStyle:{"padding-bottom":"135%"}},[o("b",[a._v("CID")]),o("q-btn",{attrs:{id:"btnCadastrarCid",icon:"add",flat:"",dense:"",color:"primary"},on:{click:function(){a.id_Cid_popup=null,a.popupCadastro=!0}}}),o("q-table",{attrs:{data:a.dados,columns:a.columns,"row-key":"name",pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t}},scopedSlots:a._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"id_cid",attrs:{props:t}},[a._v("\n            "+a._s(t.row.id_cid)+"\n          ")]),o("q-td",{key:"cod_cid",attrs:{props:t}},[a._v("\n            "+a._s(t.row.cod_cid)+"\n          ")]),o("q-td",{key:"descricao",attrs:{props:t}},[a._v("\n            "+a._s(t.row.descricao)+"\n          ")]),o("q-td",{key:"inativar",attrs:{props:t}},[o("q-toggle",{attrs:{color:"green"},on:{input:function(o){a.ativarInativar(o,t.row.id_cid)}},model:{value:t.row.ativo,callback:function(o){a.$set(t.row,"ativo",o)},expression:"props.row.ativo"}})],1)],1)]}}])})],1),o("q-dialog",{staticClass:"full-width",model:{value:a.popupCadastro,callback:function(t){a.popupCadastro=t},expression:"popupCadastro"}},[o("CadastroEdicaoCid",{on:{acionarCarregarCid:a.carregarDadosCid,fecharPopup:function(t){a.popupCadastro=!1}}})],1)],1)},s=[],e=(o("e6cf"),o("e043")),n={name:"PageIndex",components:{CadastroEdicaoCid:e["a"]},data(){return{popupCadastro:!1,modalCadastroCid:!1,filter:"",pagination:{rowsPerPage:7},consultaCid:{cod_cid:"",descricao:""},columns:[{name:"id_cid",label:"Id",align:"left"},{name:"cod_cid",label:"Código",align:"left"},{name:"descricao",label:"Descrição",align:"left"},{name:"inativar",label:"Inativar",align:"left"}],dados:[]}},async mounted(){this.onSubmit()},methods:{async onSubmit(){let a=await this.consultarCid(this.consultaCid);a.resultado=a.resultado.map((a=>(a.ativo=Boolean(a.ativo),a))),this.dados=a.resultado},async ativarInativar(a,t){return console.log("valor",a),console.log("id_cid",t),new Promise(((o,i)=>{this.$axios.post("/ativar_inativar_cid",{id_cid:Number(t),valor:Number(a)}).then((a=>{o(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),i(a)}))}))},onReset(){},async carregarDadosCid(){return new Promise(((a,t)=>{this.$axios.get("/combo_cid").then((t=>{this.dados=t.data.resultado.map((a=>(a.ativo=Boolean(a.ativo),a))),a(t.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),t(a)}))}))},async consultarCid(a){return new Promise(((t,o)=>{this.$axios.post("/consultar_cid",a).then((a=>{t(a.data)})).catch((a=>{this.$store.dispatch("principal/verificaErro",a),o(a)}))}))}}},r=n,c=o("2877"),d=o("9989"),l=o("0378"),p=o("27f9"),u=o("9c40"),m=o("eaac"),C=o("bd08"),b=o("db86"),g=o("9564"),v=o("24e8"),f=o("eebe"),_=o.n(f),h=Object(c["a"])(r,i,s,!1,null,null,null);t["default"]=h.exports;_()(h,"components",{QPage:d["a"],QForm:l["a"],QInput:p["a"],QBtn:u["a"],QTable:m["a"],QTr:C["a"],QTd:b["a"],QToggle:g["a"],QDialog:v["a"]})}}]);